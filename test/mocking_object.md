# 모의 객체

## 1. Mock

Mock은 테스트에서 객체의 동작을 가짜로 구현하기 위해 사용하는 기법이다.
Mock 객체는 실제 객체의 대체품으로 동작하며, 특정 메서드가 호출되었을 때 예상되는 결과를 미리 정의할 수 있다.
이는 테스트 대상 코드가 외부 의존성에 영향을 받지 않고 독립적으로 테스트될 수 있도록 돕는다.
Mock 객체는 주로 행동 검증(behavior verification)을 목적으로 사용되며, 객체의 상태보다는 상호작용에 집중한다.

## 2. Spy

Spy는 실제 객체를 감싸서, 실제 객체의 메서드가 호출되는 것을 허용하면서 동시에 특정 메서드를 모킹할 수 있도록 하는 기법이다.
Spy 객체는 실제 객체의 부분적인 모킹을 가능하게 하며, 실제 객체의 메서드 호출을 기록하고 추적할 수 있다.
예를 들어, Spy를 사용하면 일부 메서드는 원래 동작을 유지하고, 다른 메서드는 가짜 동작을 수행하도록 설정할 수 있다.
이는 테스트 중 특정 메서드의 호출 여부와 호출된 횟수 등을 검증할 때 유용하다.

## 3. Stub

Stub은 테스트에서 사용되는 고정된 응답을 제공하는 객체이다.
Stub은 특정 메서드 호출에 대해 미리 정의된 결과를 반환하도록 설정되어 있다.
Mock과 달리 Stub은 상태 검증(state verification)에 초점을 맞추며, 주로 단위 테스트에서 객체의 동작보다는 그 객체가 반환하는 데이터에 집중한다.
Stub은 복잡한 로직을 단순화하고, 특정 상황에서의 테스트를 용이하게 한다.

### 결론

Mock, Spy, Stub은 모두 단위 테스트에서 의존성을 제어하고 테스트의 격리를 보장하기 위한 기법이다.
Mock은 주로 상호작용을 검증할 때, Spy는 실제 객체의 부분적인 모킹을 필요로 할 때, Stub은 특정한 반환값을 필요로 하는 테스트에서 사용된다.
이를 적절히 활용함으로써 테스트의 정확성과 신뢰성을 높일 수 있다.